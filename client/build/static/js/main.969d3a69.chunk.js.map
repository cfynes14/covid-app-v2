{"version":3,"sources":["utils/formatDate.js","Components/Modal/modal.js","Components/Modal/infoModal.js","Components/Modal/dashboard.js","Components/CurrentInfo/currentInfo.js","Components/Header/header.js","Components/SearchBar/searchBar.js","Components/Card/card.js","Components/Map/map.js","Components/App/App.js","reportWebVitals.js","index.js"],"names":["formatDate","dateString","thisDate","split","join","Modal","handleClose","show","children","showHideClassName","className","totalInfections","totalDeaths","newCases","newDeaths","cumFirstVaccinations","cumSecondVaccinations","Date","now","toISOString","firstVaccinationsDaily","secondVaccinationsDaily","type","onClick","InfoModal","Dashboard","props","state","infoShow","showModal","bind","hideModal","showInfo","hideInfo","undefined","this","currentInfections","alert","setState","id","toLocaleString","React","Component","CurrentInfo","findTotal","a","axios","get","process","PORT","response","console","log","status","data","deathsCumulative","casesCumulative","casesDaily","deathsDaily","firstVaccinationsCumulative","secondVaccinationsCumulative","countup","window","onload","end","duration","separator","Header","SearchBar","obtainNames","fetch","json","body","Error","message","names","area","handleLocationChange","handleChange","then","res","catch","err","searchLocation","findInfo","e","target","value","handleGetLAInformation","optionTemplate","map","v","for","name","onChange","Card1","location","params","cumCases","cumCasesByPublishDate","cumDeaths","cumDeaths28DaysByPublishDate","newCasesByPublishDate","newDeaths28DaysByPublishDate","Map","useState","setMap","locationVal","setLocation","geoJson","setGeoJson","key","setKey","coordinates","setView","MapContainer","zoomControl","center","zoom","whenCreated","TileLayer","url","attribution","GeoJSON","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.969d3a69.chunk.js","sourcesContent":["function formatDate(dateString)\r\n{\r\n    let allDate = dateString.split(' ');\r\n    let thisDate = allDate[0].split('-');\r\n    let newDate = [thisDate[2],thisDate[1],thisDate[0] ].join(\"-\");\r\n    return newDate;\r\n}\r\nexport default formatDate","import './modal.css';\r\nimport formatDate from '../../utils/formatDate';\r\n\r\nconst Modal = ({ handleClose, show, children }) => {\r\n    const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\r\n    \r\n    return (\r\n        <div className={showHideClassName}>\r\n            <section className=\"modal-main\">\r\n                <div className=\"nationalStatTitle\">\r\n                     <h3>National Statistics for UK</h3>\r\n                </div>\r\n                <br></br>\r\n                <p className=\"nationalStat\">Total infections: <span>{children.totalInfections}</span></p>\r\n                <p className=\"nationalStat\">Total deaths: <span>{children.totalDeaths}</span></p>\r\n                <p className=\"nationalStat\">New infections: <span>{children.newCases}</span></p>\r\n                <p className=\"nationalStat\">New deaths: <span>{children.newDeaths}</span></p>\r\n                <p className=\"nationalStat\">Total first vaccinations: <span>{children.cumFirstVaccinations}</span></p>\r\n                <p className=\"nationalStat\">Total second vaccinations: <span>{children.cumSecondVaccinations}</span></p>\r\n                <p className=\"nationalStat\">First vaccinations received on {formatDate((new Date(Date.now() - 86400000)).toISOString().split(\"T\")[0])}: <span>{children.firstVaccinationsDaily}</span></p>\r\n                <p className=\"nationalStat\">Second vaccinations received on {formatDate((new Date(Date.now() - 86400000)).toISOString().split(\"T\")[0])}: <span>{children.secondVaccinationsDaily}</span></p>\r\n\r\n                \r\n                <br></br><br></br>\r\n                <button className=\"btn btn-secondary btn-block\" type=\"button\" onClick={handleClose}>Close</button>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import './modal.css';\r\n\r\nconst InfoModal = ({ handleClose, show, children }) => {\r\n    const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\r\n    \r\n    return (\r\n        <div className={showHideClassName}>\r\n            <section className=\"modal-main\">\r\n                <div className=\"nationalStatTitle\">\r\n                     <h3>Info about UK Covid-19 Tracker</h3>\r\n                </div>\r\n                <br></br>\r\n                <ul>\r\n                    <li>UK Covid-19 Tracker is an app designed, developed and maintained by Christopher Fynes</li>\r\n                    <li>All data rendered in this app is received from the UK Government Coronavirus app</li>\r\n                    <li>All latest statistics are recorded from the previous day</li>\r\n                    <li>No data available for deaths within Welsh Local Authorities</li>\r\n                </ul>\r\n\r\n                \r\n                <br></br><br></br>\r\n                <button className=\"btn btn-secondary btn-block\" type=\"button\" onClick={handleClose}>Close</button>\r\n            </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoModal;","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport './modal.css'\r\nimport React from \"react\";\r\n\r\nimport Modal from './modal';\r\nimport InfoModal from './infoModal';\r\n\r\n\r\nclass Dashboard extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      show: false,\r\n      infoShow: false\r\n    }\r\n    this.showModal = this.showModal.bind(this);\r\n    this.hideModal = this.hideModal.bind(this);\r\n    this.showInfo = this.showInfo.bind(this);\r\n    this.hideInfo = this.hideInfo.bind(this);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    if (this.props.currentInfections === undefined) {\r\n      alert('Sorry, unable to access current statistics. Please try again later')\r\n      return null\r\n    } \r\n  }\r\n  \r\n  showModal(){\r\n    this.setState({ show: true });\r\n  };\r\n\r\n   hideModal(){\r\n    this.setState({ show: false });\r\n  };\r\n\r\n  showInfo(){\r\n    this.setState({ infoShow: true });\r\n  }\r\n\r\n  hideInfo(){\r\n    this.setState({ infoShow: false });\r\n  }\r\n\r\n render(){\r\n      return (\r\n      <div id=\"modalButton\" className=\"d-inline\">\r\n      <Modal show={this.state.show} handleClose={this.hideModal} \r\n        children={{totalInfections: this.props.totalInfections.toLocaleString(), \r\n                   totalDeaths: this.props.totalDeaths.toLocaleString(),\r\n                   newCases: this.props.newCases.toLocaleString(),\r\n                   newDeaths: this.props.newDeaths.toLocaleString(),\r\n                   cumFirstVaccinations: this.props.cumFirstVaccinations.toLocaleString(),\r\n                   cumSecondVaccinations: this.props.cumSecondVaccinations.toLocaleString(),\r\n                   firstVaccinationsDaily: this.props.firstVaccinationsDaily.toLocaleString(),\r\n                   secondVaccinationsDaily: this.props.secondVaccinationsDaily.toLocaleString()\r\n                 }}>\r\n      </Modal>\r\n      <InfoModal show={this.state.infoShow} handleClose={this.hideInfo}>\r\n\r\n      </InfoModal>\r\n      <button className=\"btn btn-secondary\" type=\"button\" onClick={this.showModal}>More national info</button>\r\n      <button className=\"btn btn-secondary ml-4\" type=\"button\" onClick={this.showInfo}>App info</button>\r\n    </div>\r\n  );\r\n  }\r\n };\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport './currentInfo.css';\r\nimport axios from 'axios';\r\nimport CountUp from 'react-countup';\r\nimport Dashboard from '../Modal/dashboard';\r\n\r\nclass CurrentInfo extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            totalInfections: 0,\r\n            totalDeaths: 0,\r\n            newCases: 0,\r\n            newDeaths: 0,\r\n            cumFirstVaccinations: 0,\r\n            cumSecondVaccinations: 0,\r\n            firstVaccinationsDaily: 0,\r\n            secondVaccinationsDaily: 0,\r\n            countup: 0,\r\n        }\r\n        this.findTotal = this.findTotal.bind(this)        \r\n    }\r\n\r\n\r\n    findTotal = async () => {\r\n        const response = await axios.get(`http://localhost:${process.env.PORT}/national`)\r\n        console.log(response.status)\r\n        if (response.status !== 200){\r\n            alert('Sorry, currently able to access national information. Please try again later.')\r\n            return\r\n        } else {\r\n            console.log(response)\r\n            this.setState({ totalDeaths: response.data.data[0].deathsCumulative, \r\n                            totalInfections: response.data.data[0].casesCumulative,\r\n                            newCases: response.data.data[0].casesDaily,\r\n                            newDeaths: response.data.data[0].deathsDaily,\r\n                            cumFirstVaccinations: response.data.data[1].firstVaccinationsCumulative,\r\n                            cumSecondVaccinations: response.data.data[1].secondVaccinationsCumulative,\r\n                            firstVaccinationsDaily: response.data.data[1].firstVaccinationsDaily,\r\n                            secondVaccinationsDaily: response.data.data[1].secondVaccinationsDaily\r\n                        })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.onload = this.findTotal()\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"pr-4 pt-2\">\r\n                <p className=\"headlineInfo mb-0 d-inline\">Total infections in UK: <span><CountUp end={this.state.totalInfections} duration={0.5} separator=','/></span></p>\r\n                <p className=\"headlineInfo mb-0 d-inline\">Total deaths in UK: <span><CountUp end={this.state.totalDeaths} duration={0.5} separator=','/></span></p>\r\n\r\n                <Dashboard totalInfections={this.state.totalInfections} \r\n                           totalDeaths={this.state.totalDeaths}\r\n                           newCases={this.state.newCases}\r\n                           newDeaths={this.state.newDeaths}\r\n                           cumFirstVaccinations={this.state.cumFirstVaccinations} cumSecondVaccinations={this.state.cumSecondVaccinations} firstVaccinationsDaily={this.state.firstVaccinationsDaily} secondVaccinationsDaily={this.state.secondVaccinationsDaily}>\r\n                </Dashboard>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CurrentInfo;","import React from 'react';\r\nimport './header.css';\r\nimport CurrentInfo from '../CurrentInfo/currentInfo';\r\n\r\n\r\nclass Header extends React.Component{\r\n    state = {\r\n        data: null\r\n    };\r\n\r\n      render(){\r\n        return(\r\n            <div id=\"header\" className=\"w-100% bg\">\r\n                <h3 className=\"display-5 float-left\">UK Covid-19 Tracker</h3>\r\n                <CurrentInfo />                \r\n            </div>      \r\n        )\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './searchBar.css';\r\n\r\n\r\nclass SearchBar extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n           names: [],\r\n           area: '',\r\n\r\n        }\r\n        \r\n        this.handleLocationChange = this.handleLocationChange.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.obtainNames()\r\n        .then(res => this.setState({ names: res }))\r\n        .catch((err) => {\r\n            console.log(err)\r\n            alert('Sorry, unable to communicate with the server. Please try again later.')\r\n        })\r\n    }\r\n\r\n    obtainNames = async () => {\r\n        const response = await fetch('/localAuthorities')\r\n        const body = await response.json()\r\n\r\n        if (response.status !== 200) {\r\n            throw Error(body.message)\r\n        }\r\n        return body;\r\n    }\r\n\r\n\r\nhandleLocationChange(){\r\n    this.props.searchLocation(this.state.area);\r\n}\r\n\r\nhandleGetLAInformation(){\r\n    this.props.findInfo(this.state.area)\r\n}\r\n\r\n\r\nhandleChange(e){   \r\n    this.setState({ area: e.target.value },() => {\r\n        this.handleLocationChange()\r\n        this.handleGetLAInformation()\r\n    });\r\n}\r\n\r\n    render(){\r\n        let names = this.state.names\r\n        let optionTemplate = names.map(v => (\r\n            <option id={v.id} value={v.value}>{v.value}</option>\r\n        ));\r\n        return(\r\n            <div>             \r\n                <label for=\"searchBar\"> \r\n                    <select className=\"form-control\" name=\"localAuthority\" onChange={this.handleChange}>\r\n                        <option>Select an area</option>\r\n                        {optionTemplate}\r\n                    </select>\r\n                </label>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport axios from 'axios';\r\nimport SearchBar from '../SearchBar/searchBar';\r\nimport CountUp from 'react-countup';\r\nimport formatDate from '../../utils/formatDate';\r\n\r\nimport './card.css';\r\n\r\nclass Card1 extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cumCases: 0,\r\n            cumDeaths: 0,\r\n            newCases: 0,\r\n            newDeaths: 0\r\n        };\r\n        this.findInfo = this.findInfo.bind(this)\r\n      }\r\n\r\n      findInfo = async (location) => {\r\n          const response = await axios.get(`http://localhost/${process.env.PORT}/getLAdata`, { params: {location}})\r\n          if (response.status !== 200){\r\n            throw Error(response.message)\r\n        } else {\r\n            this.setState({ cumCases: response.data.data[0].cumCasesByPublishDate,\r\n                            cumDeaths: response.data.data[0].cumDeaths28DaysByPublishDate, \r\n                            newCases: response.data.data[0].newCasesByPublishDate,\r\n                            newDeaths: response.data.data[0].newDeaths28DaysByPublishDate \r\n                        })\r\n        }\r\n      }\r\n\r\n    \r\n    render(){\r\n        return (            \r\n    <div id=\"card1\" className=\"card w-25 z-index-3 m-5 border border-info shadow p-3 rounded\">\r\n        <div className=\"card-body\">\r\n              <SearchBar searchLocation={this.props.searchLocation} findInfo={this.findInfo} />\r\n              <div className=\"container\">\r\n                  <div className=\"textInfo\">\r\n                    <p className=\"cardInfo\">Total infections: <span><CountUp end={this.state.cumCases} duration={0.5} separator=','/></span></p>\r\n                    <p className=\"cardInfo\">Total deaths: <span><CountUp end={this.state.cumDeaths} duration={0.5} separator=','/></span></p>\r\n                    <p className=\"cardInfo\">New cases on {formatDate((new Date(Date.now() - 86400000)).toISOString().split(\"T\")[0])}: <span><CountUp end={this.state.newCases} duration={0.5} separator=','/></span></p>\r\n                    <p className=\"cardInfo\">New deaths on {formatDate((new Date(Date.now() - 86400000)).toISOString().split(\"T\")[0])}: <span><CountUp end={this.state.newDeaths} duration={0.5} separator=','/></span></p>\r\n                </div>\r\n              </div>\r\n         </div>            \r\n    </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Card1;","\r\nimport React, { useState } from 'react';\r\nimport { MapContainer, TileLayer, GeoJSON } from \"react-leaflet\";\r\nimport axios from 'axios';\r\n\r\nimport Header from '../Header/header'\r\nimport Card1 from '../Card/card'\r\n\r\n\r\nfunction Map() {\r\n\r\n  const [map, setMap] = useState(null);\r\n  const [locationVal, setLocation] = useState('');\r\n // const [coords, setCoords] = useState();\r\n  const [geoJson, setGeoJson] = useState(null);\r\n  const [key, setKey] = useState(0)\r\n       \r\n     const searchLocation = async (location) => {\r\n        setLocation(location)\r\n        const response = await axios.get(`http://localhost:${process.env.PORT}/location`, { params: {location} })\r\n        if (response.status !== 200){\r\n            throw Error(response.message)\r\n        } else {\r\n          console.log(response.data.coordinates)\r\n            setGeoJson(response.data.geoJson)\r\n            setKey(response.data.key)\r\n            map.setView(response.data.coordinates, 9)\r\n            } \r\n      } \r\n      \r\n    //  const  countryStyle = {\r\n    //       fillColor: 'red'\r\n    //   };    \r\n         \r\n        const ReturnGeoJson = () => {          \r\n          return geoJson && (\r\n            <GeoJSON data={geoJson} key={key}\r\n            />\r\n          )\r\n      }\r\n\r\n        return(\r\n        <div>\r\n          <Header />\r\n      <MapContainer id=\"mapContainer\" zoomControl={false} center={[51.5074, .1278]} zoom={6.5} whenCreated={setMap}>\r\n            <Card1 searchLocation={searchLocation} location={locationVal}/>\r\n            <TileLayer\r\n            url=\"https://api.maptiler.com/maps/uk-openzoomstack-road/256/{z}/{x}/{y}.png?key=X7qpq0iR5R376h5yMZXo\" \r\n            attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n            />\r\n\r\n            {ReturnGeoJson()}\r\n           \r\n        </MapContainer>\r\n        </div>\r\n        \r\n                    \r\n   )\r\n}\r\n\r\nexport default Map;","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\n\r\nimport Map from '../Map/map';\r\n\r\n\r\nclass App extends React.Component {\r\n  render(){\r\n    return (\r\n      <div>       \r\n      <Map />      \r\n      </div>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}