{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\cpfyn\\\\Documents\\\\Coding\\\\Projects\\\\covid-app\\\\covid-19\\\\client\\\\src\\\\Components\\\\SearchBar\\\\searchBar.js\";\nimport React from 'react';\nimport './searchBar.css';\n\nvar SearchBar = /*#__PURE__*/function (_React$Component) {\n  _inherits(SearchBar, _React$Component);\n\n  var _super = _createSuper(SearchBar);\n\n  function SearchBar(props) {\n    var _this;\n\n    _classCallCheck(this, SearchBar);\n\n    _this = _super.call(this, props);\n    _this.obtainNames = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('/localAuthorities');\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              body = _context.sent;\n\n              if (!(response.status !== 200)) {\n                _context.next = 8;\n                break;\n              }\n\n              throw Error(body.message);\n\n            case 8:\n              return _context.abrupt(\"return\", body);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      names: [],\n      area: ''\n    };\n    _this.handleLocationChange = _this.handleLocationChange.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SearchBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log('mounting component');\n      this.obtainNames().then(function (res) {\n        return _this2.setState({\n          names: res\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log();\n    }\n  }, {\n    key: \"handleLocationChange\",\n    value: function handleLocationChange() {\n      this.props.searchLocation(this.state.area);\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      var _this3 = this;\n\n      this.setState({\n        area: e.target.value\n      }, function () {\n        _this3.handleLocationChange();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var names = this.state.names;\n      var optionTemplate = names.map(function (v) {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          id: v.id,\n          value: v.value,\n          children: v.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, _this4);\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"searchBar\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"localAuthority\",\n            onChange: this.handleSearch,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Select an area\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this), optionTemplate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return SearchBar;\n}(React.Component);\n\nexport default SearchBar;","map":{"version":3,"sources":["C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/src/Components/SearchBar/searchBar.js"],"names":["React","SearchBar","props","obtainNames","fetch","response","json","body","status","Error","message","state","names","area","handleLocationChange","bind","handleSearch","console","log","then","res","setState","catch","err","searchLocation","e","target","value","optionTemplate","map","v","id","Component"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;;IAGMC,S;;;;;AACF,qBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;AADc,UAuBlBC,WAvBkB,yEAuBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACaC,KAAK,CAAC,mBAAD,CADlB;;AAAA;AACJC,cAAAA,QADI;AAAA;AAAA,qBAESA,QAAQ,CAACC,IAAT,EAFT;;AAAA;AAEJC,cAAAA,IAFI;;AAAA,oBAINF,QAAQ,CAACG,MAAT,KAAoB,GAJd;AAAA;AAAA;AAAA;;AAAA,oBAKAC,KAAK,CAACF,IAAI,CAACG,OAAN,CALL;;AAAA;AAAA,+CAOHH,IAPG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAvBI;AAEd,UAAKI,KAAL,GAAa;AACVC,MAAAA,KAAK,EAAE,EADG;AAEVC,MAAAA,IAAI,EAAE;AAFI,KAAb;AAKA,UAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,+BAA5B;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB;AARc;AAUjB;;;;wCAEkB;AAAA;;AACfE,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,WAAKf,WAAL,GACCgB,IADD,CACM,UAAAC,GAAG;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AAAET,UAAAA,KAAK,EAAEQ;AAAT,SAAd,CAAJ;AAAA,OADT,EAECE,KAFD,CAEO,UAAAC,GAAG;AAAA,eAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAJ;AAAA,OAFV;AAGH;;;yCAEmB;AAChBN,MAAAA,OAAO,CAACC,GAAR;AACH;;;2CAaiB;AAClB,WAAKhB,KAAL,CAAWsB,cAAX,CAA0B,KAAKb,KAAL,CAAWE,IAArC;AACH;;;iCAEYY,C,EAAE;AAAA;;AACX,WAAKJ,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAEY,CAAC,CAACC,MAAF,CAASC;AAAjB,OAAd,EAAuC,YAAM;AACzC,QAAA,MAAI,CAACb,oBAAL;AACH,OAFD;AAGH;;;6BAEW;AAAA;;AACJ,UAAIF,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAvB;AACA,UAAIgB,cAAc,GAAGhB,KAAK,CAACiB,GAAN,CAAU,UAAAC,CAAC;AAAA,4BAC5B;AAAQ,UAAA,EAAE,EAAEA,CAAC,CAACC,EAAd;AAAkB,UAAA,KAAK,EAAED,CAAC,CAACH,KAA3B;AAAA,oBAAmCG,CAAC,CAACH;AAArC;AAAA;AAAA;AAAA;AAAA,kBAD4B;AAAA,OAAX,CAArB;AAGA,0BACI;AAAA,+BACI;AAAO,UAAA,GAAG,EAAC,WAAX;AAAA,iCACI;AAAQ,YAAA,IAAI,EAAC,gBAAb;AAA8B,YAAA,QAAQ,EAAE,KAAKX,YAA7C;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEKY,cAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAYH;;;;EA9DmB5B,KAAK,CAACgC,S;;AAiE9B,eAAe/B,SAAf","sourcesContent":["import React from 'react';\r\nimport './searchBar.css';\r\n\r\n\r\nclass SearchBar extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n           names: [],\r\n           area: '' \r\n        }\r\n        \r\n        this.handleLocationChange = this.handleLocationChange.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('mounting component')\r\n        this.obtainNames()\r\n        .then(res => this.setState({ names: res }))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log()\r\n    }\r\n\r\n    obtainNames = async () => {\r\n        const response = await fetch('/localAuthorities')\r\n        const body = await response.json()\r\n\r\n        if (response.status !== 200) {\r\n            throw Error(body.message)\r\n        }\r\n        return body;\r\n    }\r\n\r\n\r\nhandleLocationChange(){\r\n    this.props.searchLocation(this.state.area);\r\n}\r\n\r\nhandleSearch(e){   \r\n    this.setState({ area: e.target.value },() => {\r\n        this.handleLocationChange()\r\n    });\r\n}\r\n\r\n    render(){\r\n        let names = this.state.names\r\n        let optionTemplate = names.map(v => (\r\n            <option id={v.id} value={v.value}>{v.value}</option>\r\n        ));\r\n        return(\r\n            <div>             \r\n                <label for=\"searchBar\"> \r\n                    <select name=\"localAuthority\" onChange={this.handleSearch}>\r\n                        <option>Select an area</option>\r\n                        {optionTemplate}\r\n                    </select>\r\n                    {/* <button onClick={this.handleSearch} className=\"btn btn-success\">Submit</button> */}\r\n                </label>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}