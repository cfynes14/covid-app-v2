{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\cpfyn\\\\Documents\\\\Coding\\\\Projects\\\\covid-app\\\\covid-19\\\\client\\\\src\\\\Components\\\\CurrentInfo\\\\currentInfo.js\";\nimport React from 'react';\nimport './currentInfo.css';\nimport axios from 'axios';\nimport CountUp from 'react-countup';\nimport Dashboard from '../Modal/dashboard';\n\nvar CurrentInfo = /*#__PURE__*/function (_React$Component) {\n  _inherits(CurrentInfo, _React$Component);\n\n  var _super = _createSuper(CurrentInfo);\n\n  function CurrentInfo(props) {\n    var _this;\n\n    _classCallCheck(this, CurrentInfo);\n\n    _this = _super.call(this, props);\n    _this.findTotal = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('finding total');\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get('http://localhost:5000/national');\n\n            case 4:\n              response = _context.sent;\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(_context.t0);\n\n            case 10:\n              _context.prev = 10;\n              console.log(response);\n              return _context.finish(10);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 7, 10, 13]]);\n    }));\n    _this.state = {\n      totalInfections: 0,\n      totalDeaths: 0,\n      newCases: 0,\n      newDeaths: 0,\n      cumFirstVaccinations: 0,\n      cumSecondVaccinations: 0,\n      firstVaccinationsDaily: 0,\n      secondVaccinationsDaily: 0,\n      countup: 0\n    };\n    _this.findTotal = _this.findTotal.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CurrentInfo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log('currentInfo mounting');\n      window.onload = this.findTotal();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pr-4 pt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"headlineInfo mb-0 d-inline\",\n          children: [\"Total infections in UK: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(CountUp, {\n              end: this.state.totalInfections,\n              duration: 0.5,\n              separator: \",\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 89\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"headlineInfo mb-0 d-inline\",\n          children: [\"Total deaths in UK: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(CountUp, {\n              end: this.state.totalDeaths,\n              duration: 0.5,\n              separator: \",\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 85\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n          totalInfections: this.state.totalInfections,\n          totalDeaths: this.state.totalDeaths,\n          newCases: this.state.newCases,\n          newDeaths: this.state.newDeaths,\n          cumFirstVaccinations: this.state.cumFirstVaccinations,\n          cumSecondVaccinations: this.state.cumSecondVaccinations,\n          firstVaccinationsDaily: this.state.firstVaccinationsDaily,\n          secondVaccinationsDaily: this.state.secondVaccinationsDaily\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return CurrentInfo;\n}(React.Component);\n\nexport default CurrentInfo;","map":{"version":3,"sources":["C:/Users/cpfyn/Documents/Coding/Projects/covid-app/covid-19/client/src/Components/CurrentInfo/currentInfo.js"],"names":["React","axios","CountUp","Dashboard","CurrentInfo","props","findTotal","console","log","get","response","error","state","totalInfections","totalDeaths","newCases","newDeaths","cumFirstVaccinations","cumSecondVaccinations","firstVaccinationsDaily","secondVaccinationsDaily","countup","bind","window","onload","Component"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;AADc,UAkBlBC,SAlBkB,yEAkBN;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AADQ;AAAA;AAAA,qBAIaP,KAAK,CAACQ,GAAN,CAAU,gCAAV,CAJb;;AAAA;AAIJC,cAAAA,QAJI;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMJH,cAAAA,OAAO,CAACI,KAAR;;AANI;AAAA;AAQJJ,cAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AARI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAlBM;AAEd,UAAKE,KAAL,GAAa;AACTC,MAAAA,eAAe,EAAE,CADR;AAETC,MAAAA,WAAW,EAAE,CAFJ;AAGTC,MAAAA,QAAQ,EAAE,CAHD;AAITC,MAAAA,SAAS,EAAE,CAJF;AAKTC,MAAAA,oBAAoB,EAAE,CALb;AAMTC,MAAAA,qBAAqB,EAAE,CANd;AAOTC,MAAAA,sBAAsB,EAAE,CAPf;AAQTC,MAAAA,uBAAuB,EAAE,CARhB;AASTC,MAAAA,OAAO,EAAE;AATA,KAAb;AAWA,UAAKf,SAAL,GAAiB,MAAKA,SAAL,CAAegB,IAAf,+BAAjB;AAbc;AAejB;;;;wCAgCmB;AAChBf,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACAe,MAAAA,MAAM,CAACC,MAAP,GAAgB,KAAKlB,SAAL,EAAhB;AACH;;;6BAEO;AACJ,0BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC,4BAAb;AAAA,8DAAkE;AAAA,mCAAM,QAAC,OAAD;AAAS,cAAA,GAAG,EAAE,KAAKM,KAAL,CAAWC,eAAzB;AAA0C,cAAA,QAAQ,EAAE,GAApD;AAAyD,cAAA,SAAS,EAAC;AAAnE;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,kBAAlE;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAG,UAAA,SAAS,EAAC,4BAAb;AAAA,0DAA8D;AAAA,mCAAM,QAAC,OAAD;AAAS,cAAA,GAAG,EAAE,KAAKD,KAAL,CAAWE,WAAzB;AAAsC,cAAA,QAAQ,EAAE,GAAhD;AAAqD,cAAA,SAAS,EAAC;AAA/D;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,kBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAII,QAAC,SAAD;AAAW,UAAA,eAAe,EAAE,KAAKF,KAAL,CAAWC,eAAvC;AACW,UAAA,WAAW,EAAE,KAAKD,KAAL,CAAWE,WADnC;AAEW,UAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWG,QAFhC;AAGW,UAAA,SAAS,EAAE,KAAKH,KAAL,CAAWI,SAHjC;AAIW,UAAA,oBAAoB,EAAE,KAAKJ,KAAL,CAAWK,oBAJ5C;AAIkE,UAAA,qBAAqB,EAAE,KAAKL,KAAL,CAAWM,qBAJpG;AAI2H,UAAA,sBAAsB,EAAE,KAAKN,KAAL,CAAWO,sBAJ9J;AAIsL,UAAA,uBAAuB,EAAE,KAAKP,KAAL,CAAWQ;AAJ1N;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAaH;;;;EAnEqBpB,KAAK,CAACyB,S;;AAuEhC,eAAerB,WAAf","sourcesContent":["import React from 'react';\r\nimport './currentInfo.css';\r\nimport axios from 'axios';\r\nimport CountUp from 'react-countup';\r\nimport Dashboard from '../Modal/dashboard';\r\n\r\nclass CurrentInfo extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            totalInfections: 0,\r\n            totalDeaths: 0,\r\n            newCases: 0,\r\n            newDeaths: 0,\r\n            cumFirstVaccinations: 0,\r\n            cumSecondVaccinations: 0,\r\n            firstVaccinationsDaily: 0,\r\n            secondVaccinationsDaily: 0,\r\n            countup: 0,\r\n        }\r\n        this.findTotal = this.findTotal.bind(this)\r\n        \r\n    }\r\n\r\n\r\n    findTotal = async () => {\r\n        console.log('finding total')\r\n        let response;\r\n        try{\r\n            response = await axios.get('http://localhost:5000/national')\r\n        } catch(err) {\r\n            console.error(err)\r\n        } finally {\r\n            console.log(response)\r\n        }\r\n        \r\n        // if (response.status !== 200){\r\n        //     // throw Error(response.message)\r\n        //     console.log('Other response status')\r\n        //     alert('Sorry, currently able to access national information. Please try again later.')\r\n        // } else {\r\n        //     console.log(response)\r\n        //     this.setState({ totalDeaths: response.data.data[0].deathsCumulative, \r\n        //                     totalInfections: response.data.data[0].casesCumulative,\r\n        //                     newCases: response.data.data[0].casesDaily,\r\n        //                     newDeaths: response.data.data[0].deathsDaily,\r\n        //                     cumFirstVaccinations: response.data.data[1].firstVaccinationsCumulative,\r\n        //                     cumSecondVaccinations: response.data.data[1].secondVaccinationsCumulative,\r\n        //                     firstVaccinationsDaily: response.data.data[1].firstVaccinationsDaily,\r\n        //                     secondVaccinationsDaily: response.data.data[1].secondVaccinationsDaily\r\n        //                 })\r\n        // }\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('currentInfo mounting')\r\n        window.onload = this.findTotal()\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"pr-4 pt-2\">\r\n                <p className=\"headlineInfo mb-0 d-inline\">Total infections in UK: <span><CountUp end={this.state.totalInfections} duration={0.5} separator=','/></span></p>\r\n                <p className=\"headlineInfo mb-0 d-inline\">Total deaths in UK: <span><CountUp end={this.state.totalDeaths} duration={0.5} separator=','/></span></p>\r\n\r\n                <Dashboard totalInfections={this.state.totalInfections} \r\n                           totalDeaths={this.state.totalDeaths}\r\n                           newCases={this.state.newCases}\r\n                           newDeaths={this.state.newDeaths}\r\n                           cumFirstVaccinations={this.state.cumFirstVaccinations} cumSecondVaccinations={this.state.cumSecondVaccinations} firstVaccinationsDaily={this.state.firstVaccinationsDaily} secondVaccinationsDaily={this.state.secondVaccinationsDaily}>\r\n                </Dashboard>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CurrentInfo;"]},"metadata":{},"sourceType":"module"}